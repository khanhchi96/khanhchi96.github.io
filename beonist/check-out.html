<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Thông tin đơn hàng</title>
    <link rel="icon" href="img/logo-dark-background.png" type="image/gif" sizes="15x15">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/style.css">
<style>
    #product-list::after{
    content: '';
    display: block;
    bottom: 0;
    border-bottom: 4px solid #fff!important;
    width: 100%!important;
    }
    .logo-mobile{
        margin-left: 44px!important;
    }
    .header-wrap{
        background-image: url('https://images.pexels.com/photos/935871/pexels-photo-935871.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260')
    }
    .first-footer{
        bottom: 0!important;
    }
    .secondary-footer{
        display: none;
    }
    .cart-value{
        background-color: green!important;
        color: #fff!important;
    }
    @media(max-width: 993px){
        .cart-value, .fixed-bill{
            position: fixed!important;
            bottom: 36px!important;
            z-index: 1!important;
        }
        .cart-info{
            margin-bottom: 0!important;
            border-bottom: none!important
        }
    }

    @media (max-width: 600px){
        .cart-value, .fixed-bill{
            bottom: 26px!important;
        }
    }
    @media (min-width: 993px){
        .cart-value{
            top: 50px!important;
        }
        .fixed-bill{
            top: 130px!important;
        }
        .measurements-cart>div {
            flex-basis: calc(19% - 17px)!important;
        }
        .product-name-cart{
            width: 60%!important;
        }
    }

    @media(min-width: 600px) and (max-width: 1200px){
        .measurements-cart>div {
            flex-basis: 25%!important;
        }
    
        .product-image-cart-mobile{
            width: 16%!important;
        }
    }
    @media(max-width: 600px) and (min-width: 401px){
        .product-image-cart-mobile{
        width: 15%!important;
        margin-top: 2%;
    }
    }

    @media(max-width: 400px){
        .product-image-cart-mobile{
        width: 20%!important;
        margin-top: 1px;
    }
        .measurements-cart>div {
        font-size: 11px!important;
        flex-basis: 33.33%!important;
    }
    }

    @media(max-width: 321px){
        .measurements-cart>div {
        font-size: 10px!important;
    }
        .measurements-cart{
            padding: 0 0 0 0px!important;
        }
        .product-image-cart-mobile {
        width: 22%!important;
        margin-top: 3px;
}
    }
    /* .product-image-cart{
        display: block!important;
    }
    .cart-content{
        width: calc(85% - 44px);
    } */
    .mat-label {
    display: block;
    font-size: 16px;
    transform: translateY(25px);
    transition: all 0.5s;
    text-align: left;
    color: #373f50;
    }

    .mat-input {
    position: relative;
    background: transparent;
    width: 100%;
    border: none;
    outline: none;
    padding: 8px 0;
    font-size: 16px;
    }

    .mat-div {
    padding: 30px 0 0 0;
    position: relative;
    }

    .mat-div:after, .mat-div:before {
    content: "";
    position: absolute;
    display: block;
    width: 100%;
    height: 2px;
    background-color: #373f50; 
    bottom: 0;
    left: 0;
    transition: all 0.5s;
    }

    .mat-div::after {
    background-color:#066363;
    transform: scaleX(0);
    }

    .is-active::after {
    transform: scaleX(1);
    }

    .is-active .mat-label {
    color:#066363;
    }

    .is-completed .mat-label {
    font-size: 12px;
    transform: translateY(0);
    }
</style>
</head>

<body>
    <header class="header"> 
        <div class="header-wrap parallax">      
            <nav id="nav-large" chi-include-html="menu.html"></nav>
        </div>
    </header>

    <section>
        <div class="wrap">
            <div class="progressbar-container">
                <ul class="progressbar">
                    <li>Đăng nhập/Đăng ký</li>
                    <!-- <li>Địa chỉ giao hàng</li> -->
                    <li>Thanh toán & Đặt mua</li>    
                </ul>
            </div>
        </div>
        <div class="cart-wrap wrap" style="min-height: unset;">
            <div class="cart-info"></div>
            <div class="cart-value">
                <h3>Mã giảm giá: <span id="discount-code"></span></h3>
                <h3>Tổng tiền: <span id="bill-value"></span>VNĐ</h3>
            </div>
        </div>
        <div class="parallax parallax-login-signup">
            <div class="login-signup">
                <button class="btn-active btn-login">Đăng nhập</button><button class="btn-signup">Đăng ký</button>
                <div class="login-container">
                    <form class="login">
                            <div class="mat-div">
                              <label for="username" class="mat-label">Email/Tên đăng nhập</label>
                              <input type="text" class="mat-input" id="username1">
                            </div>
                            
                              <div class="mat-div">
                              <label for="first-name" class="mat-label">Mật khẩu</label>
                              <input type="password" class="mat-input" id="password1">
                            </div>
                          
                        <button type="button" class="move-to-payment">Đăng nhập</button><br/>
                        <a href="#" style="margin-left: 0px;">Quên mật khẩu?</a>
                    </form>
                </div>

                <div class="signup-container">
                    <form class="signup">
                            <div class="mat-div">
                                <label for="username" class="mat-label">Email/Tên đăng nhập</label>
                                <input type="text" class="mat-input" id="username2">
                              </div>
                              
                                <div class="mat-div">
                                <label for="first-name" class="mat-label">Mật khẩu</label>
                                <input type="password" class="mat-input" id="password2">
                              </div> 
                              
                              <div class="mat-div">
                                <label for="first-name" class="mat-label">Xác nhận mật khẩu</label>
                                <input type="password" class="mat-input" id="password-confirm">
                              </div> 
                            <button type="button" class="move-to-payment">Đăng ký</button>
                    </form>
                </div>
            </div>
        </div>

    
    </section>
    <footer chi-include-html="footer.html"></footer>
        



    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="script/script.js"></script>
    <script src="script/order.js"></script>
    <script>
        let orderInfo = JSON.parse(localStorage.getItem("productGroup"));
        let groupPrice = [];
        $(document).ready(function() {
            for(var i=0; i < orderInfo.length; i++ ){
                $(".number-of-items").text('( ' + orderInfo.length + ' sản phẩm)');
                $(".cart-info").append($('<div class="item-info"><div class="product-image-cart"><img src="'+orderInfo[i].productImage+'"/></div><div class="cart-content">'+
                    '<div class="name-quantity-price"><h3 class="product-name-cart">'+orderInfo[i].productQuantity+'x '+orderInfo[i].productName+'</h3>'+
                    '<img class="product-image-cart-mobile" src="'+orderInfo[i].productImage+'"/>'+
                    '<p class="sodo">SỐ ĐO (cm): </p>'+
                    '<div class="measurements-cart"><div>Cổ: '+orderInfo[i].neck+'</div>'+ 
                    '<div>Ngực: '+orderInfo[i].chest+'</div><div>Eo: '+orderInfo[i].belly+'</div>'+ 
                    '<div>Vai: '+orderInfo[i].shoulder+'</div><div>Dài tay: '+orderInfo[i].arm+'</div>'+ 
                    '<div>Bắp tay: '+orderInfo[i].biceps+'</div><div>Lưng: '+orderInfo[i].back+'</div>'+ 
                    '<div>Mông: '+orderInfo[i].butt+'</div><div>Đùi: '+orderInfo[i].thigh+'</div>'+ 
                    '<div>Gối: '+orderInfo[i].knee+'</div><div>Dài quần: '+orderInfo[i].pantLength+'</div></div></div>'

                ))
                        
                let priceString;
                let quantityString
                priceString = orderInfo[i].productPrice.match(/\d/g).join("");
                quantityString = orderInfo[i].productQuantity
                
                let value=parseInt(priceString)*parseInt(quantityString);
                groupPrice.push(value);
                
            }
            
            let totalValue = 0;
                totalValue = groupPrice.reduce(function(a, b) { return a + b; }, 0);
                $('#bill-value').text(totalValue.toString().replace(/\B(?=(\d{3})+(?!\d))/g, "."));
                // $('#bill-value').text($('#total-value').text());

        
        })


        $('.btn-signup').click(function(){
            $('.btn-login').removeClass('btn-active');
            $('.btn-signup').addClass('btn-active');
            $('.signup').css('display', 'block');
            $('.login').css('display', 'none');
        })

        $('.btn-login').click(function(){
            $('.btn-signup').removeClass('btn-active');
            $('.btn-login').addClass('btn-active');
            $('.signup').css('display', 'none');
            $('.login').css('display', 'block');
        })

        $('.move-to-payment').click(function(){
                    location.href = "payment.html";
                });
        
        $(window).scroll(function(){
        if (document.body.scrollTop > 250 || document.documentElement.scrollTop > 250) {
            $('.cart-value').addClass('fixed-bill');
        }
        else{
            $('.cart-value').removeClass('fixed-bill');
            $('.cart-value').css('position', 'absolute')
        }

        let d = $(document).height();
            let w = $(window).height();
            let s = $(this).scrollTop();
            let bottomBound = 350;

        if(d - (w + s) < bottomBound) { 
            $('.fixed-bill').css('margin-top', ((d-(w+s))-bottomBound ))
        } 
        else{
            $('.fixed-bill').css('position', 'fixed')    
        }
    })

//     function scrollBottom(){

// let d = $(document).height();
// let w = $(window).height();
// let s = $(this).scrollTop();
// let bottomBound = 72;

// if(d - (w + s) < bottomBound) { 
//     $('.first-footer').css({
//         bottom: bottomBound - (d - (w + s))
//     });
// } else {
//     $('.first-footer').css({
//         bottom: 0
//     });            
// }
// };


            $(".mat-input").focus(function(){
                $(this).parent().addClass("is-active is-completed");
            });

            $(".mat-input").focusout(function(){
            if($(this).val() === "")
                $(this).parent().removeClass("is-completed");
            $(this).parent().removeClass("is-active");
            })
            
    </script>
        <script>
            includeHTML();
        </script>
</body>
</html>