<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Xác nhận đơn hàng</title>
    <link rel="icon" href="img/logo-dark-background.png" type="image/gif" sizes="15x15">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/style.css">
<style>

    #product-list::after{
    content: '';
    display: block;
    bottom: 0;
    border-bottom: 4px solid #fff!important;
    width: 100%!important;
    }

    .first-footer{
        bottom: 0!important;
    }
    .secondary-footer{
        display: none;
    }

    .wrap>h3{
        text-align: center;
    }

    .customer-info-confirmation{
        padding-bottom: 30px;
        border-bottom: 1px solid #f1f1f1;
    }

    @media (max-width: 1200px) and (min-width: 993px) {
        .measurements-cart>div {
            flex-basis: 14.2%!important;
        }
        .product-image-cart-mobile{
            width: 7%!important;
        }
        .wrap:not(:first-child){
            padding-top: 0!important;
        }
        .wrap:last-child{
            padding-bottom: 0!important;
        }
    }
    @media (min-width: 1200px){
        .wrap:first-child>h1{
            margin-top: 54px!important;
        }
        .wrap:last-child{
            padding-bottom: 0!important;
        }
    }
    @media (max-width: 992px){
        .wrap:first-child>h1{
            margin-top: 74px!important;
        }
    }
    @media (max-width: 992px) and (min-width: 601px) {
        .product-image-cart-mobile{
            width: 8%!important;
        }
        .wrap>h1{
            font-size: 25px!important;
        }
        .product-name-cart{
            font-size: 20px!important;
        }
    }

    @media(max-width: 600px) and (min-width: 321px){
        .product-image-cart-mobile{
            width: 10%!important;
        }
        .wrap>h1{
            font-size: 25px!important;
        }
    }
    @media(max-width: 320px){
        .product-image-cart-mobile{
            width: 12%!important;
        }
        .wrap>h1{
            font-size: 20px!important;
        }
        .customer-info-confirmation>p{
            font-size: 14px;
        }
    }

    @media (min-width: 1200px){
        .measurements-cart>div {
            flex-basis: calc(15% - 17px)!important;
        }
        .wrap{
            padding-top: 0!important;
        }
    }
    .customer-info-confirmation{
        margin-top: 44px;

    }
</style>
</head>
<body>
    <header class="header"> 
        <div class="header-wrap">      
            <nav id="nav-large" chi-include-html="menu.html"></nav>
        </div>
    </header>
    
    <section style="margin-bottom: 50px;">
        <div class="wrap">
            <h1>Thông tin khách hàng</h1>
            <div class="customer-info-confirmation"></div>
        </div>
        <div class="wrap" style="margin-top: 0">
            <h1>Thông tin đơn hàng</h1>
            <h3>Tổng giá trị: <span id="bill-value"></span>VNĐ</h3>
            <div class="order-info-confirmation"></div>
        </div>    

        
    </section>

    <footer chi-include-html="footer.html"></footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="script/script.js"></script>
    <script src="script/order.js"></script>
    <script>
        
        let infoConfirmation = JSON.parse(localStorage.getItem("customerInfo"));

        let orderInfo = JSON.parse(localStorage.getItem("productGroup"));
        let groupPrice = [];
        $(document).ready(function() {
            $(".customer-info-confirmation").append('<p>Tên khách hàng: ' + infoConfirmation.name +'</p><p>Địa chỉ: ' + infoConfirmation.address+
            '</p><p>Số điện thoại: ' + infoConfirmation.phone +'</p><p>Phương thức thanh toán: '+ infoConfirmation.paymentMethod +'</p>');
            for(var i=0; i < orderInfo.length; i++ ){
                $(".order-info-confirmation").append($('<div class="item-info"><div class="product-image-cart"><img src="'+orderInfo[i].productImage+'"/></div><div class="cart-content">'+
                    '<div class="name-quantity-price"><img class="product-image-cart-mobile" src="'+orderInfo[i].productImage+'"/>'+
                    '<h3 class="product-name-cart"> '+orderInfo[i].productQuantity+'x '+orderInfo[i].productName+'</h3><br/><p class="product-price-cart"> '+
                    orderInfo[i].productPrice + '</p></div><p class="sodo">SỐ ĐO (cm): </p>'+
                    '<div class="measurements-cart"><div>Cổ: '+orderInfo[i].neck+'</div>'+ 
                    '<div>Ngực: '+orderInfo[i].chest+'</div><div>Eo: '+orderInfo[i].belly+'</div>'+ 
                    '<div>Vai: '+orderInfo[i].shoulder+'</div><div>Dài tay: '+orderInfo[i].arm+'</div>'+ 
                    '<div>Bắp tay: '+orderInfo[i].biceps+'</div><div>Lưng: '+orderInfo[i].back+'</div>'+ 
                    '<div>Mông: '+orderInfo[i].butt+'</div><div>Đùi: '+orderInfo[i].thigh+'</div>'+ 
                    '<div>Gối: '+orderInfo[i].knee+'</div><div>Dài quần: '+orderInfo[i].pantLength+'</div></div></div>'

                ))
                        
                let priceString;
                let quantityString
                priceString = orderInfo[i].productPrice.match(/\d/g).join("");
                quantityString = orderInfo[i].productQuantity
                
                let value=parseInt(priceString)*parseInt(quantityString);
                groupPrice.push(value);
                
            }
            
            let totalValue = 0;
                totalValue = groupPrice.reduce(function(a, b) { return a + b; }, 0);
                $('#bill-value').text(totalValue.toString().replace(/\B(?=(\d{3})+(?!\d))/g, "."));
                // $('#bill-value').text($('#total-value').text());

        
        })


    </script>
        <script>
            includeHTML();
        </script>
</body>

</html>