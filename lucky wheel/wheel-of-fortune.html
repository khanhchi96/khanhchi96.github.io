<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
<style>
    body {
  overflow: hidden;
}

#wheel,
#arrow {
   position: absolute;
   top: 50%;
   left: 50%;
   transform: translate(-50%, -50%)
}

#arrow {
   cursor: pointer;
}

#info {
   position: fixed;
   top: 0;
   left: 0;
   padding: 15px;
   pointer-events: none;
   font-size: 20px;
   font-weight: bold;
   font-family: sans-serif;
}
</style>
</head>
<body>
    
<svg id="wheel" width="458" height="458" version="1.1"
xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink">
<image xlink:href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/106114/wheel-1.png" x="0" y="0" height="458px" width="458px"/>
</svg>
<svg id="arrow" width="122" height="77" version="1.1"
xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink">
<image xlink:href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/106114/pin-1.png" x="0" y="0" height="77px" width="122px"/>
</svg>

<div id="info"></div>


<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenLite.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TimelineMax.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/easing/EasePack.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/plugins/CSSPlugin.min.js"></script>
<script>
       
   let wheel = $('#wheel');
   let arrow = $('#arrow');
   let info = $("#info");
   
   let numItems = 8;
   let arc = 360 / numItems;
   TweenLite.set(wheel, { rotation: 360 });
   
   let prizes = [
     "Shirt",
     "Free Bucket",
     "Night Out #1",
     "Je Vangt Bot",
     "BioScoop Tickets",
     "Night Out #2",
     "Free Spin",
      "HMH Tickets"
   ];
   
   $('#arrow').on('click', function(){
     
      // var random = Math.floor(Math.random() * 8000) + 6000;
      let random = Math.floor(Math.random() * 800) + 600;
      let tl = new TimelineMax();
      tl 
         .to(wheel, 7, { rotation: "+=" + random, ease: Back.easeOut.config(1) })

      TweenLite.to(tl, 4, {timeScale:0, ease: Power1.easeOut, delay: 3 })
   })
   
   TweenLite.ticker.addEventListener("tick", update);
   
   function update() {
     
     var rotation = wheel[0]._gsTransform.rotation;     
     var angle = rotation - 360 * Math.floor(rotation / 360);     
     var index = Math.floor((360 - angle) / arc) % prizes.length;    
     var prize = prizes[index];
     
     info.html("Current Prize = " + prize);
   }
</script>
</body>
</html>